webpackJsonp([1],{BbJH:function(t,e){},"Lp/d":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("bOdI"),r=a.n(s),n=a("7+uW"),o=a("ZZvs"),i=a.n(o),c=(a("SYh3"),a("NYxO")),l=a("mtWM"),d=a.n(l),u=a("Rf8U"),v=a.n(u),p=a("sUu7"),f=a("1SbN"),_=a.n(f),m=a("Dd8w"),h=a.n(m),g={name:"AlertMessage",computed:h()({},Object(c.d)("modal",["message"]),{isShow:function(){return 0!==this.message.length}}),methods:h()({},Object(c.b)("modal",["removeMessage"]))},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{staticClass:"container"},t._l(t.message,function(e){return a("div",{key:e.id,staticClass:"message",class:e.type},[a("p",{class:"text-"+e.type},[t._v(t._s(e.content))]),t._v(" "),a("a",{staticClass:"close",class:"text-"+e.type,attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.removeMessage(e.id)}}})])})):t._e()},staticRenderFns:[]};var b=a("VU/8")(g,C,!1,function(t){a("VE2N")},"data-v-1ff662a8",null).exports,k={name:"Sidebar",props:{isShow:{type:Boolean,default:function(){return!1}}},methods:h()({},Object(c.b)("modal",["addMessage"]),{showAlert:function(){this.handleOnClick(),this.addMessage({content:"此按鈕為純版面，尚無功能。",type:"danger"})},handleOnClick:function(){this.$emit("closeSidebar")},redirect:function(t){this.handleOnClick(),this.$router.push({name:t})}})},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side",class:{show:t.isShow}},[a("ul",{staticClass:"side-list"},[a("li",[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.redirect("Home")}}},[t._v("Home")])]),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.redirect("Product")}}},[t._v("Shop")])]),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("About Us")])]),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Contact")])]),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Blog")])])]),t._v(" "),a("div",{staticClass:"icon-list"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-facebook-f"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-instagram"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-youtube"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-twitter"})])]),t._v(" "),a("a",{staticClass:"close",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handleOnClick(e)}}})])},staticRenderFns:[]};var y=a("VU/8")(k,w,!1,function(t){a("ZGsb")},"data-v-261afef5",null).exports,S={name:"Header",methods:h()({},Object(c.b)("modal",["toggleSidebar"]),{toHomePage:function(){this.$router.push({name:"Home"})}})},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("nav",[a("div",{staticClass:"logo",on:{click:t.toHomePage}},[a("h2",{staticClass:"logo-left"},[t._v("Card")]),t._v(" "),t._m(1)]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:t.toggleSidebar}},[a("i",{staticClass:"fas fa-bars"})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("h6",[this._v("Playing Card Shopping")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-right"},[e("h4",{staticClass:"logo-right-top"},[this._v("Shop")]),this._v(" "),e("div",{staticClass:"logo-right-bot"})])}]};var O=a("VU/8")(S,E,!1,function(t){a("RoRB")},"data-v-5229988c",null).exports,P={name:"Footer",methods:h()({},Object(c.b)("modal",["addMessage"]),{showAlert:function(){this.addMessage({content:"此按鈕為純版面，尚無功能。",type:"danger"})}})},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("ul",{staticClass:"footer-list"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Shop")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Stockists")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Blog")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("About Us")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Contact")])])]),t._v(" "),a("ul",{staticClass:"footer-list"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("FAQ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Shipping & Returns")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Store Policy")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("Payment Methods")])])]),t._v(" "),a("div",{staticClass:"footer-right"},[a("div",{staticClass:"email"},[t._m(0),t._v(" "),a("button",{on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[t._v("SUBSCRIBE")])]),t._v(" "),a("div",{staticClass:"icon-list"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-facebook-f"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-instagram"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-youtube"})]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAlert(e)}}},[a("i",{staticClass:"fab fa-twitter"})])])])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"far fa-envelope"}),this._v(" "),e("input",{attrs:{type:"text",placeholder:"Email Address"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom"},[e("p",[this._v("© 2018 Shawn All Rights Reserved")])])}]};var D={name:"App",components:{AlertMessage:b,Sidebar:y,Header:O,Footer:a("VU/8")(P,x,!1,function(t){a("YfQQ")},"data-v-7de35175",null).exports},computed:h()({},Object(c.d)("loading",["isLoading"]),Object(c.d)("modal",["isShowSidebar"])),methods:h()({},Object(c.b)("modal",["toggleSidebar"]),Object(c.b)("cart",["getCartList"])),created:function(){this.getCartList()}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading,color:"#26C281",loader:"bars"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("Sidebar",{attrs:{isShow:t.isShowSidebar},on:{closeSidebar:t.toggleSidebar}}),t._v(" "),t.isShowSidebar?a("div",{staticClass:"cover"}):t._e(),t._v(" "),a("AlertMessage"),t._v(" "),a("Header"),t._v(" "),a("router-view"),t._v(" "),a("Footer")],1)},staticRenderFns:[]};var T=a("VU/8")(D,A,!1,function(t){a("TnBZ")},null,null).exports,R=a("/ocq"),L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"hero"},[a("div",{staticClass:"hero-inner"},[a("h2",[t._v("ALWAYS BE")]),t._v(" "),a("h2",[t._v("ORIGINAL")]),t._v(" "),a("h4",[t._v("NEW ARRIVALS ARE HERE")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/product"}},[t._v("Shop Now")])],1)]),t._v(" "),a("h1",{staticClass:"typing-title"},[t._v("＂歡迎光臨！請別在意荷包盡情血拼＂")])])},staticRenderFns:[]};var F=a("VU/8")({name:"Hero"},L,!1,function(t){a("BbJH")},"data-v-1634e7bc",null).exports,$=(a("v2ns"),a("7QTg")),M={methods:{colorInfo:function(t){switch(t){case"Fontaine":return"#53365e";case"Theory11":return"#b78846";case"Ellusionist":return"#b85b5a";default:return"green"}}}},I={name:"Slider",mixins:[M],props:{products:{type:Array,default:function(){return[]}}},components:{swiper:$.swiper,swiperSlide:$.swiperSlide},data:function(){return{swiperOption:{slidesPerView:4,spaceBetween:10,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:2,spaceBetween:20},800:{slidesPerView:3,spaceBetween:30}}}}},methods:h()({},Object(c.b)("cart",["addToCart"]),{getDetail:function(t){this.$router.push({name:"ProductInfo",params:{id:t}})},addProductToCart:function(t){var e={product_id:t,qty:1};this.addToCart(e)}})},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.products,function(e){return a("swiper-slide",{key:e.id},[a("div",{staticClass:"card"},[a("div",{staticClass:"category",style:{background:t.colorInfo(e.category)}},[t._v(t._s(e.category))]),t._v(" "),a("div",{staticClass:"card-img"},[a("img",{attrs:{src:e.imageUrl,alt:""}})]),t._v(" "),a("h4",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.description))]),t._v(" "),a("div",{staticClass:"price"},[a("h4",[t._v("特價 "+t._s(e.price)+"元")]),t._v(" "),a("p",[t._v("原價 "+t._s(e.origin_price)+"元")])]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn-green",on:{click:function(a){t.getDetail(e.id)}}},[t._v("詳細介紹")]),t._v(" "),a("button",{staticClass:"btn-red",on:{click:function(a){t.addProductToCart(e.id)}}},[t._v("加入購物車")])])])])}),t._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var j=a("VU/8")(I,U,!1,function(t){a("iamK")},"data-v-aed50da2",null).exports,V={name:"Cart",data:function(){return{showCart:!1,coupon:{code:""}}},computed:h()({},Object(c.d)("cart",["cart"])),methods:h()({},Object(c.b)("cart",["removeProductFromCart","getDiscount"]),Object(c.b)("modal",["addMessage"]),{toCheckOut:function(){if(0!==this.cart.carts.length)this.$router.push({name:"Checkout"});else{this.addMessage({content:"購物車內無商品",type:"danger"})}},useCoupon:function(){if(""!==this.coupon.code.trim())this.getDiscount(this.coupon);else{this.addMessage({content:"請輸入優惠碼再套用",type:"danger"})}}})},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cart",class:{showCart:t.showCart}},[a("h2",{staticClass:"title"},[t._v("我的購物車")]),t._v(" "),a("div",{staticClass:"list"},[0===t.cart.carts.length?a("h4",{staticClass:"empty"},[t._v("購物車內尚無任何商品")]):a("table",[t._m(0),t._v(" "),a("tbody",t._l(t.cart.carts,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.title)+"\n              "),e.final_total!==e.total?a("p",{staticStyle:{color:"#26C281","font-size":"14px"}},[t._v("已套用優惠卷")]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.qty)+t._s(e.product.unit))]),t._v(" "),a("td",[t._v(t._s(e.final_total)+"元")]),t._v(" "),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.removeProductFromCart(e.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])])}))])]),t._v(" "),a("h4",{staticClass:"total"},[t._v("總計："),a("span",[t._v(t._s(t.cart.final_total))]),t._v("元")]),t._v(" "),a("div",{staticClass:"coupon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.code,expression:"coupon.code"}],attrs:{type:"text",placeholder:"請輸入優惠碼，可以使用 magicisgood"},domProps:{value:t.coupon.code},on:{input:function(e){e.target.composing||t.$set(t.coupon,"code",e.target.value)}}}),t._v(" "),a("button",{staticClass:"coupon-btn",on:{click:t.useCoupon}},[t._v("套用優惠卷")])]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-light",on:{click:function(e){t.showCart=!1}}},[t._v("手癢繼續逛")]),t._v(" "),a("button",{staticClass:"btn btn-accent",on:{click:t.toCheckOut}},[t._v("結帳去")])])]),t._v(" "),a("div",{staticClass:"basket",on:{click:function(e){t.showCart=!t.showCart}}},[a("p",[t._v(t._s(t.cart.carts.length))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("td",[this._v("名稱")]),this._v(" "),e("td",[this._v("數量")]),this._v(" "),e("td",[this._v("金額")]),this._v(" "),e("td",[this._v("刪除")])])])}]};var B=a("VU/8")(V,N,!1,function(t){a("Lp/d")},"data-v-4539f6be",null).exports,G={name:"Home",data:function(){return{showCart:!1}},components:{Hero:F,Slider:j,Cart:B},computed:h()({},Object(c.d)("product",["products"]),Object(c.d)("loading",["isLoading"]),{silderProducts:function(){return this.products.slice(0,6)}}),methods:h()({},Object(c.b)("product",["getProducts"])),created:function(){this.getProducts()}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Cart"),this._v(" "),e("Hero"),this._v(" "),e("Slider",{attrs:{products:this.silderProducts}})],1)},staticRenderFns:[]};var H=a("VU/8")(G,q,!1,function(t){a("UvU+")},"data-v-50153ac8",null).exports,Q={name:"Products",mixins:[M],components:{Cart:B},computed:h()({},Object(c.d)("product",["products","categoryFilter"]),Object(c.c)("product",["filtedProducts"])),methods:h()({},Object(c.b)("product",["getProducts","filterProducts"]),Object(c.b)("cart",["addToCart"]),{toProductInfo:function(){this.$router.push({name:"ProductInfo"})},getDetail:function(t){this.$router.push({name:"ProductInfo",params:{id:t}})},addProductToCart:function(t){var e={product_id:t,qty:1};this.addToCart(e)}}),created:function(){this.getProducts()}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-item",class:{active:"All"===t.categoryFilter}},[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterProducts("All")}}},[a("i",{staticClass:"fas fa-chevron-right"}),t._v("All\n      ")])]),t._v(" "),a("div",{staticClass:"nav-item",class:{active:"Fontaine"===t.categoryFilter}},[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterProducts("Fontaine")}}},[a("i",{staticClass:"fas fa-chevron-right"}),t._v("Fontaine\n      ")])]),t._v(" "),a("div",{staticClass:"nav-item",class:{active:"Ellusionist"===t.categoryFilter}},[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterProducts("Ellusionist")}}},[a("i",{staticClass:"fas fa-chevron-right"}),t._v("Ellusionist\n      ")])]),t._v(" "),a("div",{staticClass:"nav-item",class:{active:"Theory11"===t.categoryFilter}},[a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterProducts("Theory11")}}},[a("i",{staticClass:"fas fa-chevron-right"}),t._v("Theory11\n      ")])])]),t._v(" "),a("div",{staticClass:"main"},[a("h4",[t._v(t._s(t.categoryFilter))]),t._v(" "),a("div",{staticClass:"product-list"},t._l(t.filtedProducts,function(e){return a("div",{key:e.id,staticClass:"card"},[a("div",{staticClass:"category",style:{background:t.colorInfo(e.category)}},[t._v(t._s(e.category))]),t._v(" "),a("div",{staticClass:"card-img"},[a("div",{staticClass:"img",style:{backgroundImage:"url("+e.imageUrl+")"}})]),t._v(" "),a("h4",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.description))]),t._v(" "),a("div",{staticClass:"price"},[a("h4",[t._v("特價 "+t._s(e.price)+"元")]),t._v(" "),a("p",[t._v("原價 "+t._s(e.origin_price)+"元")])]),t._v(" "),a("div",{staticClass:"btn-group"},[1===e.is_enabled?a("button",{staticClass:"btn",on:{click:function(a){t.getDetail(e.id)}}},[t._v("詳細介紹")]):t._e(),t._v(" "),1===e.is_enabled?a("button",{staticClass:"btn",on:{click:function(a){t.addProductToCart(e.id)}}},[t._v("加入購物車")]):a("button",{staticClass:"btn btn--out_stock"},[t._v("尚無庫存")])])])}))]),t._v(" "),a("Cart")],1)},staticRenderFns:[]};var z=a("VU/8")(Q,Y,!1,function(t){a("hg+P")},"data-v-6786e4d1",null).exports,W={name:"ProductInfo",data:function(){return{order:{num:1}}},components:{Cart:B},computed:h()({},Object(c.d)("product",["tempProduct"])),methods:h()({},Object(c.b)("product",["getProductDetail"]),Object(c.b)("cart",["addToCart"]),{addProductToCart:function(t,e){var a={product_id:t,qty:e};this.addToCart(a)}}),created:function(){var t=this.$route.params.id;this.getProductDetail(t)}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"card-img"},[a("div",{staticClass:"img",style:{backgroundImage:"url("+t.tempProduct.imageUrl+")"}})]),t._v(" "),a("h4",{staticClass:"title"},[t._v("商品介紹")]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(t.tempProduct.duscription))]),t._v(" "),a("h4",{staticClass:"title"},[t._v("運費資訊")]),t._v(" "),a("p",{staticClass:"desc"},[t._v("無")])]),t._v(" "),a("div",{staticClass:"right"},[a("h2",{staticClass:"title"},[t._v(t._s(t.tempProduct.title))]),t._v(" "),a("p",{staticClass:"ori-price"},[t._v("原價 "+t._s(t.tempProduct.origin_price)+"元")]),t._v(" "),a("h4",{staticClass:"price"},[t._v("特價 "+t._s(t.tempProduct.price)+"元")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.order.num,expression:"order.num"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.order,"num",e.target.multiple?a:a[0])}}},t._l(10,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("選購 "+t._s(e)+" "+t._s(t.tempProduct.unit))])})),t._v(" "),a("h4",{staticClass:"total-price"},[t._v("選購 "+t._s(t.order.num)+" 件，共 "),a("span",[t._v(t._s(t.order.num*t.tempProduct.price))]),t._v(" 元")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){t.addProductToCart(t.tempProduct.id,t.order.num)}}},[t._v("加入購物車")])]),t._v(" "),a("Cart")],1)},staticRenderFns:[]};var J=a("VU/8")(W,Z,!1,function(t){a("mc2S")},"data-v-19fa564e",null).exports,K={name:"OrderList",props:{cart:{type:Object,default:function(){}},allowDelete:{type:Boolean,default:function(){return!0}}},methods:{handleOnClick:function(t){this.$emit("handleButtonClick",t)}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("div",{staticClass:"list"},[a("table",[a("thead",[a("tr",[a("td",[t._v("名稱")]),t._v(" "),a("td",[t._v("數量")]),t._v(" "),a("td",[t._v("金額")]),t._v(" "),t.allowDelete?a("td",[t._v("刪除")]):t._e()])]),t._v(" "),a("tbody",t._l(t.cart.carts,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.title)+"\n            "),e.final_total!==e.total?a("p",{staticStyle:{color:"#26C281","font-size":"14px"}},[t._v("已套用優惠卷")]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.qty)+t._s(e.product.unit))]),t._v(" "),a("td",[t._v(t._s(e.final_total)+"元")]),t._v(" "),a("td",[t.allowDelete?a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.handleOnClick(e.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})]):t._e()])])}))]),t._v(" "),a("h4",{staticClass:"total"},[t._v("總計："),a("span",[t._v(t._s(t.cart.final_total))]),t._v("元")])]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var tt=a("VU/8")(K,X,!1,function(t){a("Qdaq")},"data-v-c836303e",null).exports,et={name:"Checkout",data:function(){return{coupon:{code:""},order:{user:{name:"",email:"",tel:"",address:""}},message:""}},components:{OrderList:tt},watch:{orderId:"redirectToComfirm"},computed:h()({},Object(c.d)("cart",["cart","orderId"])),methods:h()({},Object(c.b)("cart",["removeProductFromCart","getDiscount","sendOrder"]),Object(c.b)("modal",["addMessage"]),{onButtonClick:function(t){this.removeProductFromCart(t)},toFrontPage:function(){this.$router.go(-1)},useCoupon:function(){if(""!==this.coupon.code.trim())this.getDiscount(this.coupon);else{this.addMessage({content:"請輸入優惠碼再套用",type:"danger"})}},postOrder:function(){var t=this;this.$validator.validate().then(function(e){if(e){var a=t.order;t.sendOrder({order:a,message:message})}else{t.addMessage({content:"訂單資訊填寫不完整",type:"danger"})}})},redirectToComfirm:function(){var t=this.orderId;this.$router.push({name:"Comfirm",params:{id:t}})}})},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout"},[t._m(0),t._v(" "),a("OrderList",{attrs:{cart:t.cart,allowDelete:!0},on:{handleButtonClick:t.onButtonClick}},[a("div",{staticClass:"coupon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.code,expression:"coupon.code"}],attrs:{type:"text",placeholder:"請輸入優惠碼，可以使用 magicisgood"},domProps:{value:t.coupon.code},on:{input:function(e){e.target.composing||t.$set(t.coupon,"code",e.target.value)}}}),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn",on:{click:t.toFrontPage}},[t._v("手癢繼續逛")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.useCoupon}},[t._v("套用優惠卷")])])])]),t._v(" "),a("div",{staticClass:"order"},[a("h2",{staticClass:"title"},[t._v("訂單資訊")]),t._v(" "),a("label",{attrs:{for:"email"}},[t._v("信箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.email,expression:"order.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",name:"email",type:"text",placeholder:"請輸入 E-mail"},domProps:{value:t.order.user.email},on:{input:function(e){e.target.composing||t.$set(t.order.user,"email",e.target.value)}}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("email")))]),t._v(" "),a("label",{attrs:{for:"name"}},[t._v("收件人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.name,expression:"order.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入姓名"},domProps:{value:t.order.user.name},on:{input:function(e){e.target.composing||t.$set(t.order.user,"name",e.target.value)}}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("name")))]),t._v(" "),a("label",{attrs:{for:"tel"}},[t._v("收件人電話")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.tel,expression:"order.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"tel",name:"tel",type:"text",placeholder:"請輸入電話"},domProps:{value:t.order.user.tel},on:{input:function(e){e.target.composing||t.$set(t.order.user,"tel",e.target.value)}}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("tel")))]),t._v(" "),a("label",{attrs:{for:"address"}},[t._v("收件人地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.address,expression:"order.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"address",name:"address",type:"text",placeholder:"請輸入地址"},domProps:{value:t.order.user.address},on:{input:function(e){e.target.composing||t.$set(t.order.user,"address",e.target.value)}}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("address")))]),t._v(" "),a("label",{attrs:{for:"message"}},[t._v("備註")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{id:"message",type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn",on:{click:t.postOrder}},[t._v("送出訂單")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title"},[e("i",{staticClass:"fas fa-shopping-cart"}),this._v("購物車")])}]};var st=a("VU/8")(et,at,!1,function(t){a("qJTk")},"data-v-b48c154e",null).exports,rt={name:"Comfirm",components:{OrderList:tt},computed:h()({},Object(c.d)("cart",["cart","orderId","order"])),methods:h()({},Object(c.b)("cart",["getOrder","payMoney"]),{checkout:function(){var t=this.$route.params.id;this.payMoney(t)}}),created:function(){var t=this.$route.params.id;this.getOrder(t)}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout"},[t.order.is_paid?t._e():a("div",[a("h2",{staticClass:"title"},[t._v("確認訂單")]),t._v(" "),a("OrderList",{attrs:{cart:t.cart,allowDelete:!1}})],1),t._v(" "),a("h2",{staticClass:"title"},[t._v("訂單資訊")]),t._v(" "),a("table",{staticClass:"order-list"},[a("tbody",[a("tr",[a("td",[t._v("信箱")]),t._v(" "),a("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),a("tr",[a("td",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),a("tr",[a("td",[t._v("電話")]),t._v(" "),a("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),a("tr",[a("td",[t._v("地址")]),t._v(" "),a("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),a("tr",[a("td",[t._v("付款狀態")]),t._v(" "),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]),t._v(" "),t.order.is_paid?a("h2",{staticClass:"title text-success"},[t._v("感謝您的購買！")]):a("button",{staticClass:"btn",on:{click:t.checkout}},[t._v("確認付款")])])},staticRenderFns:[]};var ot=a("VU/8")(rt,nt,!1,function(t){a("Yg89")},"data-v-0639747a",null).exports;n.a.use(R.a);var it,ct,lt,dt,ut,vt,pt,ft=new R.a({routes:[{path:"/",name:"Home",component:H},{path:"/product",name:"Product",component:z},{path:"/product/:id",name:"ProductInfo",component:J},{path:"/checkout",name:"Checkout",component:st},{path:"/comfirm/:id",name:"Comfirm",component:ot}],scrollBehavior:function(t,e,a){return a||{x:0,y:0}}}),_t=a("Xxa5"),mt=a.n(_t),ht=a("exGp"),gt=a.n(ht),Ct=function(t){var e=t.id;return d.a.get("/product/"+e)},bt=function(t){var e=t.product;return d.a.post("/cart",{data:e})},kt=function(t){var e=t.id;return d.a.delete("/cart/"+e)},wt=function(t){var e=t.code;return d.a.post("/coupon",{data:e})},yt=function(t){var e=t.order,a=t.message;return d.a.post("/order",{data:e,message:a})},St=function(t){var e=t.id;return d.a.get("/order/"+e)},Et=function(t){var e=t.id;return d.a.post("/pay/"+e)},Ot=this,Pt=this,xt={cart:{namespaced:!0,state:{cart:{carts:[],final_total:0,total:0},orderId:"",order:{user:{}}},mutations:{GET_CART_LIST:function(t,e){t.cart=e},SET_ORDER_ID:function(t,e){t.orderId=e},SET_ORDER:function(t,e){t.order=e}},actions:{addToCart:(pt=gt()(mt.a.mark(function t(e,a){e.commit;var s,r,n,o=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,bt({product:a});case 4:s=t.sent,r=s.data,o("getCartList"),n={content:r.message,type:"success"},o("modal/addMessage",n,{root:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response);case 14:o("loading/setLoading",null,{root:!0});case 16:case"end":return t.stop()}},t,Ot,[[1,11]])})),function(t,e){return pt.apply(this,arguments)}),getCartList:(vt=gt()(mt.a.mark(function t(e){var a,s,r=e.commit;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/cart");case 3:a=t.sent,s=a.data.data,r("GET_CART_LIST",s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case 12:case"end":return t.stop()}},t,Ot,[[0,8]])})),function(t){return vt.apply(this,arguments)}),removeProductFromCart:(ut=gt()(mt.a.mark(function t(e,a){e.commit;var s,r,n,o=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,kt({id:a});case 4:s=t.sent,r=s.data,o("getCartList"),n={content:r.message,type:"success"},o("modal/addMessage",n,{root:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response);case 14:o("loading/setLoading",null,{root:!0});case 15:case"end":return t.stop()}},t,Ot,[[1,11]])})),function(t,e){return ut.apply(this,arguments)}),getDiscount:(dt=gt()(mt.a.mark(function t(e,a){e.commit;var s,r,n,o,i=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,wt({code:a});case 4:s=t.sent,(r=s.data).success?(o={content:r.message,type:"success"},i("modal/addMessage",o,{root:!0})):(n={content:r.message,type:"danger"},i("modal/addMessage",n,{root:!0})),i("loading/setLoading",null,{root:!0}),i("getCartList"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response);case 14:case"end":return t.stop()}},t,Ot,[[1,11]])})),function(t,e){return dt.apply(this,arguments)}),sendOrder:(lt=gt()(mt.a.mark(function t(e,a){var s,r,n,o,i=e.commit,c=e.dispatch,l=a.order,d=a.message;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,yt({order:l,message:d});case 4:s=t.sent,(r=s.data).success?(o={content:r.message,type:"success"},c("modal/addMessage",o,{root:!0}),i("SET_ORDER_ID",r.orderId)):(n={content:r.message,type:"danger"},c("modal/addMessage",n,{root:!0})),c("loading/setLoading",null,{root:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response);case 13:case"end":return t.stop()}},t,Ot,[[1,10]])})),function(t,e){return lt.apply(this,arguments)}),getOrder:(ct=gt()(mt.a.mark(function t(e,a){var s,r,n=e.commit,o=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,St({id:a});case 4:s=t.sent,r=s.data.order,n("SET_ORDER",r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:o("loading/setLoading",null,{root:!0});case 13:case"end":return t.stop()}},t,Ot,[[1,9]])})),function(t,e){return ct.apply(this,arguments)}),payMoney:(it=gt()(mt.a.mark(function t(e,a){var s,r,n,o=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,Et({id:a});case 4:s=t.sent,(r=s.data).success&&(n={content:r.message,type:"success"},o("modal/addMessage",n,{root:!0}),o("getOrder",a),o("getCartList")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:o("loading/setLoading",null,{root:!0});case 13:case"end":return t.stop()}},t,Ot,[[1,9]])})),function(t,e){return it.apply(this,arguments)})}},loading:{namespaced:!0,state:{isLoading:!1},mutations:{SET_LOADING:function(t){t.isLoading=!t.isLoading}},actions:{setLoading:function(t){(0,t.commit)("SET_LOADING")}}},modal:{namespaced:!0,state:{isShowSidebar:!1,message:[]},mutations:{TOGGLE_SIDEBAR:function(t){t.isShowSidebar=!t.isShowSidebar},ADD_MESSAGE:function(t,e){t.message.unshift(e)},REMOVE_MESSAGE:function(t,e){t.message=t.message.filter(function(t){return t.id!==e})},REMOVE_MESSAGE_AFTER_FIVE_SECOND:function(t,e){t.message=t.message.filter(function(t){return t.id!==e})}},actions:{toggleSidebar:function(t){(0,t.commit)("TOGGLE_SIDEBAR")},addMessage:function(t,e){var a=t.commit;e.id=(new Date).getTime(),a("ADD_MESSAGE",e);var s=e.id;setTimeout(function(){a("REMOVE_MESSAGE_AFTER_FIVE_SECOND",s)},5e3)},removeMessage:function(t,e){(0,t.commit)("REMOVE_MESSAGE",e)}}},product:{namespaced:!0,state:{products:[],categoryFilter:"All",tempProduct:{imageUrl:""}},mutations:{GET_PRODUCTS:function(t,e){t.products=e},GET_PRODUCT_DETAIL:function(t,e){t.tempProduct=e},FILTER_PRODUCTS:function(t,e){t.categoryFilter=e}},actions:{getProducts:function(){var t=gt()(mt.a.mark(function t(e){var a,s,r=e.commit,n=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,d.a.get("/products/all");case 4:a=t.sent,s=a.data.products,r("GET_PRODUCTS",s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:n("loading/setLoading",null,{root:!0});case 14:case"end":return t.stop()}},t,Pt,[[1,9]])}));return function(e){return t.apply(this,arguments)}}(),getProductDetail:function(){var t=gt()(mt.a.mark(function t(e,a){var s,r,n=e.commit,o=e.dispatch;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("loading/setLoading",null,{root:!0}),t.prev=1,t.next=4,Ct({id:a});case 4:s=t.sent,r=s.data.product,n("GET_PRODUCT_DETAIL",r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:o("loading/setLoading",null,{root:!0});case 14:case"end":return t.stop()}},t,Pt,[[1,9]])}));return function(e,a){return t.apply(this,arguments)}}(),filterProducts:function(t,e){(0,t.commit)("FILTER_PRODUCTS",e)}},getters:{filtedProducts:function(t){return"All"===t.categoryFilter?t.products:t.products.filter(function(e){return e.category===t.categoryFilter})}}}};n.a.use(c.a);var Dt=new c.a.Store({modules:xt});n.a.component("Loading",i.a),n.a.config.productionTip=!1,n.a.use(v.a,d.a,c.a),n.a.use(p.b),p.b.Validator.localize("zh_TW",_.a),p.a.localize("zh_TW",r()({messages:_.a.messages,attributes:{name:"收件人姓名",tel:"收件人電話",address:"收件人地址"}},"messages",{required:function(t){return t+"為必填欄位"}})),d.a.defaults.baseURL="https://vue-course-api.hexschool.io/api/shawn",d.a.defaults.withCredentials=!0,new n.a({el:"#app",router:ft,components:{App:T},template:"<App/>",store:Dt})},Qdaq:function(t,e){},RoRB:function(t,e){},SYh3:function(t,e){},TnBZ:function(t,e){},"UvU+":function(t,e){},VE2N:function(t,e){},YfQQ:function(t,e){},Yg89:function(t,e){},ZGsb:function(t,e){},"hg+P":function(t,e){},iamK:function(t,e){},mc2S:function(t,e){},qJTk:function(t,e){},v2ns:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6def3f0e677e2c65a88e.js.map